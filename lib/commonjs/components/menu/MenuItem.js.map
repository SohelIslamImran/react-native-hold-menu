{"version":3,"names":["AnimatedTouchable","Animated","createAnimatedComponent","TouchableOpacity","MenuItemComponent","item","isLast","state","theme","menuProps","useInternal","borderStyles","useAnimatedStyle","borderBottomColor","value","BORDER_DARK_COLOR","BORDER_LIGHT_COLOR","borderBottomWidth","textColor","color","getColor","isTitle","isDestructive","handleOnPress","useCallback","params","actionParams","text","onPress","CONTEXT_MENU_STATE","END","styles","menuItem","menuItemTitleText","menuItemText","icon","AnimatedIcon","withSeparator","MenuItem","React","memo","isEqual"],"sources":["MenuItem.tsx"],"sourcesContent":["import React, { useCallback } from \"react\";\r\nimport { TouchableOpacity } from \"react-native\";\r\nimport Animated, { useAnimatedStyle } from \"react-native-reanimated\";\r\n\r\nimport Separator from \"./Separator\";\r\nimport styles from \"./styles\";\r\n\r\nimport { MenuItemProps } from \"./types\";\r\nimport { useInternal } from \"../../hooks\";\r\nimport { CONTEXT_MENU_STATE } from \"../../constants\";\r\nimport { BORDER_LIGHT_COLOR, BORDER_DARK_COLOR } from \"./constants\";\r\nimport isEqual from \"lodash.isequal\";\r\nimport { getColor } from \"./calculations\";\r\nimport { AnimatedIcon } from \"../provider/Provider\";\r\n\r\n// @ts-ignore\r\nconst AnimatedTouchable = Animated.createAnimatedComponent(TouchableOpacity);\r\n\r\ntype MenuItemComponentProps = {\r\n  item: MenuItemProps;\r\n  isLast?: boolean;\r\n};\r\n\r\nconst MenuItemComponent = ({ item, isLast }: MenuItemComponentProps) => {\r\n  const { state, theme, menuProps } = useInternal();\r\n\r\n  const borderStyles = useAnimatedStyle(() => {\r\n    const borderBottomColor =\r\n      theme.value === \"dark\" ? BORDER_DARK_COLOR : BORDER_LIGHT_COLOR;\r\n\r\n    return {\r\n      borderBottomColor,\r\n      borderBottomWidth: isLast ? 0 : 1,\r\n    };\r\n  }, [theme, isLast, item]);\r\n\r\n  const textColor = useAnimatedStyle(() => {\r\n    return { color: getColor(item.isTitle, item.isDestructive, theme.value) };\r\n  }, [theme, item]);\r\n\r\n  const handleOnPress = useCallback(() => {\r\n    if (!item.isTitle) {\r\n      const params = menuProps.value.actionParams[item.text] || [];\r\n      if (item.onPress) item.onPress(...params);\r\n      state.value = CONTEXT_MENU_STATE.END;\r\n    }\r\n  }, [state, item]);\r\n\r\n  return (\r\n    <>\r\n      <AnimatedTouchable\r\n        onPress={handleOnPress}\r\n        activeOpacity={!item.isTitle ? 0.4 : 1}\r\n        style={[styles.menuItem, borderStyles]}\r\n      >\r\n        <Animated.Text\r\n          style={[\r\n            item.isTitle ? styles.menuItemTitleText : styles.menuItemText,\r\n            textColor,\r\n          ]}\r\n        >\r\n          {item.text}\r\n        </Animated.Text>\r\n        {!item.isTitle &&\r\n          item.icon &&\r\n          (AnimatedIcon && typeof item.icon === \"string\" ? (\r\n            <AnimatedIcon name={item.icon} size={18} style={textColor} />\r\n          ) : typeof item.icon === \"function\" ? (\r\n            item.icon()\r\n          ) : null)}\r\n      </AnimatedTouchable>\r\n      {item.withSeparator && <Separator />}\r\n    </>\r\n  );\r\n};\r\n\r\nconst MenuItem = React.memo(MenuItemComponent, isEqual);\r\nexport default MenuItem;\r\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AACA;;AAGA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;AAEA;AACA,MAAMA,iBAAiB,GAAGC,8BAAA,CAASC,uBAAT,CAAiCC,6BAAjC,CAA1B;;AAOA,MAAMC,iBAAiB,GAAG,QAA8C;EAAA,IAA7C;IAAEC,IAAF;IAAQC;EAAR,CAA6C;EACtE,MAAM;IAAEC,KAAF;IAASC,KAAT;IAAgBC;EAAhB,IAA8B,IAAAC,kBAAA,GAApC;EAEA,MAAMC,YAAY,GAAG,IAAAC,uCAAA,EAAiB,MAAM;IAC1C,MAAMC,iBAAiB,GACrBL,KAAK,CAACM,KAAN,KAAgB,MAAhB,GAAyBC,6BAAzB,GAA6CC,8BAD/C;IAGA,OAAO;MACLH,iBADK;MAELI,iBAAiB,EAAEX,MAAM,GAAG,CAAH,GAAO;IAF3B,CAAP;EAID,CARoB,EAQlB,CAACE,KAAD,EAAQF,MAAR,EAAgBD,IAAhB,CARkB,CAArB;EAUA,MAAMa,SAAS,GAAG,IAAAN,uCAAA,EAAiB,MAAM;IACvC,OAAO;MAAEO,KAAK,EAAE,IAAAC,sBAAA,EAASf,IAAI,CAACgB,OAAd,EAAuBhB,IAAI,CAACiB,aAA5B,EAA2Cd,KAAK,CAACM,KAAjD;IAAT,CAAP;EACD,CAFiB,EAEf,CAACN,KAAD,EAAQH,IAAR,CAFe,CAAlB;EAIA,MAAMkB,aAAa,GAAG,IAAAC,kBAAA,EAAY,MAAM;IACtC,IAAI,CAACnB,IAAI,CAACgB,OAAV,EAAmB;MACjB,MAAMI,MAAM,GAAGhB,SAAS,CAACK,KAAV,CAAgBY,YAAhB,CAA6BrB,IAAI,CAACsB,IAAlC,KAA2C,EAA1D;MACA,IAAItB,IAAI,CAACuB,OAAT,EAAkBvB,IAAI,CAACuB,OAAL,CAAa,GAAGH,MAAhB;MAClBlB,KAAK,CAACO,KAAN,GAAce,6BAAA,CAAmBC,GAAjC;IACD;EACF,CANqB,EAMnB,CAACvB,KAAD,EAAQF,IAAR,CANmB,CAAtB;EAQA,oBACE,yEACE,6BAAC,iBAAD;IACE,OAAO,EAAEkB,aADX;IAEE,aAAa,EAAE,CAAClB,IAAI,CAACgB,OAAN,GAAgB,GAAhB,GAAsB,CAFvC;IAGE,KAAK,EAAE,CAACU,eAAA,CAAOC,QAAR,EAAkBrB,YAAlB;EAHT,gBAKE,6BAAC,8BAAD,CAAU,IAAV;IACE,KAAK,EAAE,CACLN,IAAI,CAACgB,OAAL,GAAeU,eAAA,CAAOE,iBAAtB,GAA0CF,eAAA,CAAOG,YAD5C,EAELhB,SAFK;EADT,GAMGb,IAAI,CAACsB,IANR,CALF,EAaG,CAACtB,IAAI,CAACgB,OAAN,IACChB,IAAI,CAAC8B,IADN,KAEEC,sBAAA,IAAgB,OAAO/B,IAAI,CAAC8B,IAAZ,KAAqB,QAArC,gBACC,6BAAC,sBAAD;IAAc,IAAI,EAAE9B,IAAI,CAAC8B,IAAzB;IAA+B,IAAI,EAAE,EAArC;IAAyC,KAAK,EAAEjB;EAAhD,EADD,GAEG,OAAOb,IAAI,CAAC8B,IAAZ,KAAqB,UAArB,GACF9B,IAAI,CAAC8B,IAAL,EADE,GAEA,IANL,CAbH,CADF,EAsBG9B,IAAI,CAACgC,aAAL,iBAAsB,6BAAC,kBAAD,OAtBzB,CADF;AA0BD,CAnDD;;AAqDA,MAAMC,QAAQ,gBAAGC,cAAA,CAAMC,IAAN,CAAWpC,iBAAX,EAA8BqC,eAA9B,CAAjB;;eACeH,Q"}