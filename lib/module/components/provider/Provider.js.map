{"version":3,"names":["React","memo","useEffect","useMemo","PortalProvider","Animated","useSharedValue","Backdrop","InternalContext","CONTEXT_MENU_STATE","Menu","AnimatedIcon","ProviderComponent","children","theme","selectedTheme","iconComponent","safeAreaInsets","backdropProps","createAnimatedComponent","state","UNDETERMINED","menuProps","itemHeight","itemWidth","itemX","itemY","items","anchorPosition","menuHeight","transformValue","actionParams","value","internalContextVariables","top","bottom","left","right","Provider"],"sources":["Provider.tsx"],"sourcesContent":["import React, { memo, useEffect, useMemo } from \"react\";\r\nimport { PortalProvider } from \"@gorhom/portal\";\r\nimport Animated, { useSharedValue } from \"react-native-reanimated\";\r\n\r\n// Components\r\nimport { Backdrop } from \"../backdrop\";\r\n\r\n// Utils\r\nimport { InternalContext } from \"../../context/internal\";\r\nimport { HoldMenuProviderProps } from \"./types\";\r\nimport { StateProps, Action } from \"./reducer\";\r\nimport { CONTEXT_MENU_STATE } from \"../../constants\";\r\nimport { MenuInternalProps } from \"../menu/types\";\r\nimport Menu from \"../menu\";\r\n\r\nexport interface Store {\r\n  state: StateProps;\r\n  dispatch?: React.Dispatch<Action>;\r\n}\r\n\r\nexport let AnimatedIcon: any;\r\n\r\nconst ProviderComponent = ({\r\n  children,\r\n  theme: selectedTheme,\r\n  iconComponent,\r\n  safeAreaInsets,\r\n  ...backdropProps\r\n}: HoldMenuProviderProps) => {\r\n  if (iconComponent) {\r\n    AnimatedIcon = Animated.createAnimatedComponent(iconComponent);\r\n  }\r\n\r\n  const state = useSharedValue<CONTEXT_MENU_STATE>(\r\n    CONTEXT_MENU_STATE.UNDETERMINED\r\n  );\r\n  const theme = useSharedValue<\"light\" | \"dark\">(selectedTheme || \"light\");\r\n  const menuProps = useSharedValue<MenuInternalProps>({\r\n    itemHeight: 0,\r\n    itemWidth: 0,\r\n    itemX: 0,\r\n    itemY: 0,\r\n    items: [],\r\n    anchorPosition: \"top-center\",\r\n    menuHeight: 0,\r\n    transformValue: 0,\r\n    actionParams: {},\r\n  });\r\n\r\n  useEffect(() => {\r\n    theme.value = selectedTheme || \"light\";\r\n  }, [selectedTheme]);\r\n\r\n  const internalContextVariables = useMemo(\r\n    () => ({\r\n      state,\r\n      theme,\r\n      menuProps,\r\n      safeAreaInsets: safeAreaInsets || {\r\n        top: 0,\r\n        bottom: 0,\r\n        left: 0,\r\n        right: 0,\r\n      },\r\n    }),\r\n    [state, theme, menuProps, safeAreaInsets]\r\n  );\r\n\r\n  return (\r\n    <InternalContext.Provider value={internalContextVariables}>\r\n      <PortalProvider>\r\n        {children}\r\n        <Backdrop {...backdropProps} />\r\n        <Menu />\r\n      </PortalProvider>\r\n    </InternalContext.Provider>\r\n  );\r\n};\r\n\r\nconst Provider = memo(ProviderComponent);\r\n\r\nexport default Provider;\r\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,IAAhB,EAAsBC,SAAtB,EAAiCC,OAAjC,QAAgD,OAAhD;AACA,SAASC,cAAT,QAA+B,gBAA/B;AACA,OAAOC,QAAP,IAAmBC,cAAnB,QAAyC,yBAAzC,C,CAEA;;AACA,SAASC,QAAT,QAAyB,aAAzB,C,CAEA;;AACA,SAASC,eAAT,QAAgC,wBAAhC;AAGA,SAASC,kBAAT,QAAmC,iBAAnC;AAEA,OAAOC,IAAP,MAAiB,SAAjB;AAOA,OAAO,IAAIC,YAAJ;;AAEP,MAAMC,iBAAiB,GAAG,QAMG;EAAA,IANF;IACzBC,QADyB;IAEzBC,KAAK,EAAEC,aAFkB;IAGzBC,aAHyB;IAIzBC,cAJyB;IAKzB,GAAGC;EALsB,CAME;;EAC3B,IAAIF,aAAJ,EAAmB;IACjBL,YAAY,GAAGN,QAAQ,CAACc,uBAAT,CAAiCH,aAAjC,CAAf;EACD;;EAED,MAAMI,KAAK,GAAGd,cAAc,CAC1BG,kBAAkB,CAACY,YADO,CAA5B;EAGA,MAAMP,KAAK,GAAGR,cAAc,CAAmBS,aAAa,IAAI,OAApC,CAA5B;EACA,MAAMO,SAAS,GAAGhB,cAAc,CAAoB;IAClDiB,UAAU,EAAE,CADsC;IAElDC,SAAS,EAAE,CAFuC;IAGlDC,KAAK,EAAE,CAH2C;IAIlDC,KAAK,EAAE,CAJ2C;IAKlDC,KAAK,EAAE,EAL2C;IAMlDC,cAAc,EAAE,YANkC;IAOlDC,UAAU,EAAE,CAPsC;IAQlDC,cAAc,EAAE,CARkC;IASlDC,YAAY,EAAE;EAToC,CAApB,CAAhC;EAYA7B,SAAS,CAAC,MAAM;IACdY,KAAK,CAACkB,KAAN,GAAcjB,aAAa,IAAI,OAA/B;EACD,CAFQ,EAEN,CAACA,aAAD,CAFM,CAAT;EAIA,MAAMkB,wBAAwB,GAAG9B,OAAO,CACtC,OAAO;IACLiB,KADK;IAELN,KAFK;IAGLQ,SAHK;IAILL,cAAc,EAAEA,cAAc,IAAI;MAChCiB,GAAG,EAAE,CAD2B;MAEhCC,MAAM,EAAE,CAFwB;MAGhCC,IAAI,EAAE,CAH0B;MAIhCC,KAAK,EAAE;IAJyB;EAJ7B,CAAP,CADsC,EAYtC,CAACjB,KAAD,EAAQN,KAAR,EAAeQ,SAAf,EAA0BL,cAA1B,CAZsC,CAAxC;EAeA,oBACE,oBAAC,eAAD,CAAiB,QAAjB;IAA0B,KAAK,EAAEgB;EAAjC,gBACE,oBAAC,cAAD,QACGpB,QADH,eAEE,oBAAC,QAAD,EAAcK,aAAd,CAFF,eAGE,oBAAC,IAAD,OAHF,CADF,CADF;AASD,CAvDD;;AAyDA,MAAMoB,QAAQ,gBAAGrC,IAAI,CAACW,iBAAD,CAArB;AAEA,eAAe0B,QAAf"}