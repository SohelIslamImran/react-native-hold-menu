{"version":3,"sources":["MenuItem.tsx"],"names":["React","useCallback","TouchableOpacity","Animated","useAnimatedStyle","Separator","styles","useInternal","CONTEXT_MENU_STATE","BORDER_LIGHT_COLOR","BORDER_DARK_COLOR","isEqual","getColor","AnimatedIcon","AnimatedTouchable","createAnimatedComponent","MenuItemComponent","item","isLast","state","theme","menuProps","borderStyles","borderBottomColor","value","borderBottomWidth","textColor","color","isTitle","isDestructive","handleOnPress","params","actionParams","text","onPress","END","menuItem","menuItemTitleText","menuItemText","icon","withSeparator","MenuItem","memo"],"mappings":"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","sourcesContent":["import React, { useCallback } from \"react\";\r\nimport { TouchableOpacity } from \"react-native\";\r\nimport Animated, { useAnimatedStyle } from \"react-native-reanimated\";\r\n\r\nimport Separator from \"./Separator\";\r\nimport styles from \"./styles\";\r\n\r\nimport { MenuItemProps } from \"./types\";\r\nimport { useInternal } from \"../../hooks\";\r\nimport { CONTEXT_MENU_STATE } from \"../../constants\";\r\nimport { BORDER_LIGHT_COLOR, BORDER_DARK_COLOR } from \"./constants\";\r\nimport isEqual from \"lodash.isequal\";\r\nimport { getColor } from \"./calculations\";\r\nimport { AnimatedIcon } from \"../provider/Provider\";\r\n\r\n// @ts-ignore\r\nconst AnimatedTouchable = Animated.createAnimatedComponent(TouchableOpacity);\r\n\r\ntype MenuItemComponentProps = {\r\n  item: MenuItemProps;\r\n  isLast?: boolean;\r\n};\r\n\r\nconst MenuItemComponent = ({ item, isLast }: MenuItemComponentProps) => {\r\n  const { state, theme, menuProps } = useInternal();\r\n\r\n  const borderStyles = useAnimatedStyle(() => {\r\n    const borderBottomColor =\r\n      theme.value === \"dark\" ? BORDER_DARK_COLOR : BORDER_LIGHT_COLOR;\r\n\r\n    return {\r\n      borderBottomColor,\r\n      borderBottomWidth: isLast ? 0 : 1,\r\n    };\r\n  }, [theme, isLast, item]);\r\n\r\n  const textColor = useAnimatedStyle(() => {\r\n    return { color: getColor(item.isTitle, item.isDestructive, theme.value) };\r\n  }, [theme, item]);\r\n\r\n  const handleOnPress = useCallback(() => {\r\n    if (!item.isTitle) {\r\n      const params = menuProps.value.actionParams[item.text] || [];\r\n      if (item.onPress) item.onPress(...params);\r\n      state.value = CONTEXT_MENU_STATE.END;\r\n    }\r\n  }, [state, item]);\r\n\r\n  return (\r\n    <>\r\n      <AnimatedTouchable\r\n        onPress={handleOnPress}\r\n        activeOpacity={!item.isTitle ? 0.4 : 1}\r\n        style={[styles.menuItem, borderStyles]}\r\n      >\r\n        <Animated.Text\r\n          style={[\r\n            item.isTitle ? styles.menuItemTitleText : styles.menuItemText,\r\n            textColor,\r\n          ]}\r\n        >\r\n          {item.text}\r\n        </Animated.Text>\r\n        {!item.isTitle &&\r\n          item.icon &&\r\n          (AnimatedIcon && typeof item.icon === \"string\" ? (\r\n            <AnimatedIcon name={item.icon} size={18} style={textColor} />\r\n          ) : typeof item.icon === \"function\" ? (\r\n            item.icon()\r\n          ) : null)}\r\n      </AnimatedTouchable>\r\n      {item.withSeparator && <Separator />}\r\n    </>\r\n  );\r\n};\r\n\r\nconst MenuItem = React.memo(MenuItemComponent, isEqual);\r\nexport default MenuItem;\r\n"]}